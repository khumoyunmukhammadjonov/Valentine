<!doctype html>
<html lang="uz">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Valentine Surprise</title>

<style>
body{
  margin:0;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  font-family:system-ui, -apple-system, sans-serif;
  background:linear-gradient(135deg,#ff7aa2,#ffd1dc);
  overflow:hidden;
}

/* Floating hearts */
.heart{
  position:fixed;
  bottom:-40px;
  font-size:22px;
  animation:floatUp linear forwards;
  pointer-events:none;
}
@keyframes floatUp{
  from{transform:translateY(0) rotate(0);opacity:0;}
  10%{opacity:1;}
  to{transform:translateY(-110vh) rotate(360deg);opacity:0;}
}

.card{
  background:#ffffffcc;
  padding:30px 25px;
  border-radius:20px;
  text-align:center;
  box-shadow:0 25px 60px rgba(0,0,0,.2);
  width:min(90vw,600px);
}

h1{margin:0 0 15px;font-size:28px;}

.stage{
  position:relative;
  height:220px;
  margin-top:20px;
  border-radius:18px;
  background:#ffffffaa;
  overflow:hidden;
}

button{
  position:absolute;
  border:0;
  padding:14px 18px;
  font-size:18px;
  font-weight:700;
  border-radius:14px;
  cursor:pointer;
}

#yesBtn{
  background:#22c55e;
  color:white;
  left:50%;
  top:60%;
  transform:translate(-50%,-50%);
}

#noBtn{
  background:#ef4444;
  color:white;
  left:50%;
  top:30%;
  transform:translate(-50%,-50%);
  pointer-events:none; /* impossible to click */
}

.overlay{
  position:fixed;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  background:rgba(0,0,0,.4);
}

.modal{
  background:white;
  padding:30px;
  border-radius:20px;
  text-align:center;
}

canvas{
  position:fixed;
  inset:0;
  pointer-events:none;
}
</style>
</head>

<body>

<canvas id="confetti"></canvas>

<div class="card">
  <h1>Will you be my Valentine? ðŸ’Œ</h1>
  <div class="stage" id="stage">
    <button id="yesBtn">HA</button>
    <button id="noBtn">YOâ€˜Q</button>
  </div>
</div>

<div class="overlay" id="overlay">
  <div class="modal">
    <h2>ðŸ’– Bilardim! ðŸ’–</h2>
  </div>
</div>

<script>
const stage=document.getElementById("stage");
const noBtn=document.getElementById("noBtn");
const yesBtn=document.getElementById("yesBtn");
const overlay=document.getElementById("overlay");

function rand(min,max){return Math.random()*(max-min)+min;}

/* CONTINUOUS FLOATING NO BUTTON */
function moveNo(){
  const rect=stage.getBoundingClientRect();
  const x=rand(10,rect.width-120);
  const y=rand(10,rect.height-60);
  noBtn.style.left=x+"px";
  noBtn.style.top=y+"px";
  noBtn.style.transform="translate(0,0)";
}
setInterval(moveNo,400);

/* YES button */
yesBtn.addEventListener("click",()=>{
  overlay.style.display="flex";
  launchConfetti();
});

/* Floating hearts */
const hearts=["ðŸ’–","ðŸ’˜","ðŸ’","ðŸ’—","ðŸ’“","ðŸ’•","â¤ï¸"];
function spawnHeart(){
  const h=document.createElement("div");
  h.className="heart";
  h.textContent=hearts[Math.floor(Math.random()*hearts.length)];
  h.style.left=Math.random()*100+"vw";
  h.style.fontSize=18+Math.random()*20+"px";
  h.style.animationDuration=4+Math.random()*4+"s";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),8000);
}
setInterval(spawnHeart,600);

/* Confetti */
const canvas=document.getElementById("confetti");
const ctx=canvas.getContext("2d");
let pieces=[];

function resize(){
  canvas.width=innerWidth;
  canvas.height=innerHeight;
}
resize();
window.addEventListener("resize",resize);

function launchConfetti(){
  pieces=[];
  for(let i=0;i<150;i++){
    pieces.push({
      x:innerWidth/2,
      y:innerHeight/2,
      vx:rand(-6,6),
      vy:rand(-10,-2),
      g:0.15,
      r:rand(2,4),
      hue:rand(0,360),
      alpha:1
    });
  }
  animate();
}

function animate(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  pieces.forEach(p=>{
    p.vy+=p.g;
    p.x+=p.vx;
    p.y+=p.vy;
    p.alpha*=0.98;
    ctx.globalAlpha=p.alpha;
    ctx.fillStyle=`hsl(${p.hue},90%,70%)`;
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
    ctx.fill();
  });
  ctx.globalAlpha=1;
  if(pieces.some(p=>p.alpha>0.05)) requestAnimationFrame(animate);
}
</script>

</body>
</html>
